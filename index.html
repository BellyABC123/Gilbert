<!DOCTYPE html>
<html lang="en">
<title>Gilbert App</title>
<link href='http://fonts.googleapis.com/css?family=Questrial' rel='stylesheet' type='text/css'>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<script>
    var sample;
    var getViewObject;
    var editor;
    var output;
    var parseCurrent;
    var stopDemHaterz;
</script>
<div id="header">
    Gilbert 
    <span class="pink">&nbsp; | &nbsp;</span>
    <a href="#" id="toggle-output">Show &nbsp;<span onclick="this.firstChild.data = this.firstChild.data == 'Objective-C' ? 'HTML/CSS' : 'Objective-C'" class="yellow">HTML/CSS</span></a>
</div>
<div id="editor">{
    "MCNavigationView" : {
        "body" : {
            "backgroundColor" : "#DDD",
            "padding" : "20"
        },
        "chefmatesLogo" : {
            "class" : "label",
            "atomic" : "nonatomic",
            "memory" : "strong", 
            "align" : "center",
            "backgroundColor" : "clear",
            "font" : "Lobster 1.4",
            "fontSize" : 42,
            "textColor" : "white",
            "text" : "Chefmates",
            "textShadowColor" : "#666",
            "textShadowOffset" : "1,1",
            "textAlignment" : "center",
            "relativeTo" : "window"
        },
        "pantryButton" : {
            "class" : "button",
            "atomic" : "nonatomic",
            "memory" : "strong", 
            "align" : "center",
            "backgroundColor" : "clear",
            "font" : "Lobster 1.4",
            "fontSize" : 24,
            "textColor" : "white",
            "text" : "My Pantry",
            "borderColor" : "black",
            "borderWidth" : 1.0,
            "textAlignment" : "center",
            "relativeTo" : "chefmatesLogo"
        },
        "loginTextField" : {
            "class" : "UITextField",
            "properties" : [
                                "placeholder",
                                "editing",
                                "clearsOnBeginEditing"
                           ],
            "backgroundColor" : "clear",
            "placeholder" : "Placeholder Text",
            "editing" : true,
            "clerasOnBeginEditing" : true
        }
    }
}
</div>

<div id="editor"></div>
    
<div id="output"></div>
<div id="htmlout"></div>

<script src="ace.js" type="text/javascript" charset="utf-8"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="haterz.js"></script>
<script>
    editor = new ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/json");
    editor.setShowPrintMargin(false);
    editor.getSession().setUseSoftTabs(true);

    output = new ace.edit("output");
    output.setTheme("ace/theme/monokai");
    output.getSession().setMode("ace/mode/objectivec");
    output.setShowPrintMargin(false);
    output.getSession().setUseSoftTabs(true);

    htmlout = new ace.edit("htmlout");
    htmlout.setTheme("ace/theme/monokai");
    htmlout.getSession().setMode("ace/mode/html");
    htmlout.setShowPrintMargin(false);
    htmlout.getSession().setUseSoftTabs(true);

    editor.getSession().on('change', function(e){
        parseCurrent();
        parseHTMLCurrent();
    });

    $(document).ready(function(){
        stopDemHaterz();
        parseCurrent();
        parseHTMLCurrent();
    });

    editor.addEventListener('keydown', function(e) {
        if (e.keyCode === 13) {
            parseCurrent();
            parseHTMLCurrent();
        }
    }, false);
</script>
<script src="htmlparser.js"></script>
<script src="parser.js"></script>
</body>
</html>
